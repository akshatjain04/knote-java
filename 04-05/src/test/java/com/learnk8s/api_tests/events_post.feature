# ********RoostGPT********

# Test generated by RoostGPT for test MiniProjects using AI Type Open AI and AI Model gpt-4-1106-preview
# 
# Feature file generated for /events_post for http method type POST 
# RoostTestHash=38fc35e650
# 
# 

# ********RoostGPT********
Feature: Notification event endpoints

  Background:
    * def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http://localhost:4010')
    * url urlBase
    * def authToken = karate.properties['AUTH_TOKEN']
    * def contentType = 'application/json'
    * def acceptLanguage = 'en-HK'
    * def xFapiAuthDate = 'Sun, 10 Sep 2017 19:43:31 UTC'
    * def xFapiCustomerIpAddress = '169.254.169.254'
    * def xFapiInteractionId = 'unique-interaction-id'

  Scenario Outline: Send a notification event with valid request
    Given path '/events'
    And header Authorization = 'Bearer ' + authToken
    And header Content-Type = contentType
    And header x-fapi-auth-date = xFapiAuthDate
    And header x-fapi-customer-ip-address = xFapiCustomerIpAddress
    And header x-fapi-interaction-id = xFapiInteractionId
    And header Accept-Language = acceptLanguage
    And request
      """
      <requestBody>
      """
    When method POST
    Then status 201
    And match response contains
      """
      <expectedResponse>
      """

    Examples:
      | read('events_post.csv') |

  Scenario Outline: Send a notification event with invalid request body
    Given path '/events'
    And header Authorization = 'Bearer ' + authToken
    And header Content-Type = contentType
    And header x-fapi-auth-date = xFapiAuthDate
    And header x-fapi-customer-ip-address = xFapiCustomerIpAddress
    And header x-fapi-interaction-id = xFapiInteractionId
    And header Accept-Language = acceptLanguage
    And request
      """
      <requestBody>
      """
    When method POST
    Then status 400
    And match response.errors contains
      """
      { "code": "#string", "causes": "#string" }
      """

    Examples:
      | read('events_post.csv') |

  Scenario Outline: Send a notification event with invalid Content-Type header
    Given path '/events'
    And header Authorization = 'Bearer ' + authToken
    And header Content-Type = 'text/plain'
    And header x-fapi-auth-date = xFapiAuthDate
    And header x-fapi-customer-ip-address = xFapiCustomerIpAddress
    And header x-fapi-interaction-id = xFapiInteractionId
    And header Accept-Language = acceptLanguage
    And request
      """
      <requestBody>
      """
    When method POST
    Then status 415

    Examples:
      | read('events_post.csv') |

  Scenario Outline: Send a notification event without authorization
    Given path '/events'
    And header Content-Type = contentType
    And header x-fapi-auth-date = xFapiAuthDate
    And header x-fapi-customer-ip-address = xFapiCustomerIpAddress
    And header x-fapi-interaction-id = xFapiInteractionId
    And header Accept-Language = acceptLanguage
    And request
      """
      <requestBody>
      """
    When method POST
    Then status 401

    Examples:
      | read('events_post.csv') |
