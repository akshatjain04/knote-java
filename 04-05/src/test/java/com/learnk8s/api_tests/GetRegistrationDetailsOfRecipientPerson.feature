# ********RoostGPT********

# Test generated by RoostGPT for test MiniProjects using AI Type Open AI and AI Model gpt-4-1106-preview
# 
# ROOST_METHOD_HASH=a991089179
# ROOST_METHOD_SIG_HASH=5a667c5d20
# 
#  ########## Scenario ########## 
# 
# {
#   background: 'Given the base URL is "http://localhost:8080"',
#   rule: null,
#   scenario: 'Get Registration Details Of Recipient Person\r\n' +
#     '    Given id of recipient as 27364922937 in path parameter\r\n' +
#     '    And size=13 and offset=42 in request query\r\n' +
#     '    When the client sends a GET request to endpoint "/recipients/persons/{id}/registrations" \r\n' +
#     '    When authentication token is sent in request\r\n' +
#     '    Then for successful request having status code 200, Verify that headers have api-version, page-size and  page-offset\r\n' +
#     '    And response body must have element registrations and total.',
#   title: 'Get Registration Details Of Recipient Person'
# }
# 

# ********RoostGPT********
Feature: Get Registration Details Of Recipient Person

  Background:
    * def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http://localhost:8080')
    * url urlBase
    * def authToken = karate.properties['AUTH_TOKEN']
    * header Authorization = authToken

  Scenario: Successful retrieval of registration details for a recipient person
    Given path 'recipients/persons/', '27364922937', '/registrations'
    And param credential-url = null
    And param size = 13
    And param offset = 42
    When method get
    Then status 200
    And assert responseHeaders['api-version'] != null
    And assert responseHeaders['page-size'] == '13'
    And assert responseHeaders['page-offset'] == '42'
    And match response contains { registrations: '#array', total: '#number' }

  Scenario: Retrieval of registration details with unauthorized access
    Given path 'recipients/persons/', '27364922937', '/registrations'
    And param credential-url = null
    And param size = 13
    And param offset = 42
    And header Authorization = 'InvalidToken'
    When method get
    Then status 401
    And assert responseHeaders['api-version'] != null

  Scenario: Retrieval of registration details with invalid size parameter
    Given path 'recipients/persons/', '27364922937', '/registrations'
    And param credential-url = null
    And param size = 100 # Intentionally invalid size greater than max 50
    And param offset = 42
    When method get
    Then status 400 # Assuming 4XX error for invalid parameters
    And assert responseHeaders['api-version'] != null
